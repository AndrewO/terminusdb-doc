<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>From RDBMS databases to TerminusDB - TerminusDB Documentation</title><link rel="shortcut icon" href="/docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/docs/assets/css/just-the-docs.css"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>From RDBMS databases to TerminusDB | TerminusDB Documentation</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="From RDBMS databases to TerminusDB" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation for TerminusDB" /><meta property="og:description" content="Documentation for TerminusDB" /><link rel="canonical" href="/docs/getting-started/comparison/child/" /><meta property="og:url" content="/docs/getting-started/comparison/child/" /><meta property="og:site_name" content="TerminusDB Documentation" /> <script type="application/ld+json"> {"description":"Documentation for TerminusDB","@type":"WebPage","url":"/docs/getting-started/comparison/child/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/assets/images/horizontal_lockup_white.png"}},"headline":"From RDBMS databases to TerminusDB","@context":"https://schema.org"}</script> <script src="https://cdn.usefathom.com/script.js" site="ETLDDMRO" defer></script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="/docs" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="/docs/test/" class="navigation-list-link">Test</a><li class="navigation-list-item"><a href="/docs/" class="navigation-list-link">Home</a><li class="navigation-list-item active"><a href="/docs/getting-started" class="navigation-list-link">Getting started</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/getting-started/quick-install/" class="navigation-list-link">Quick install with docker</a><li class="navigation-list-item "><a href="/docs/getting-started/other-install/" class="navigation-list-link">Other ways of installing TerminusDB</a><li class="navigation-list-item "><a href="/docs/getting-started/install-clients/" class="navigation-list-link">Installation of JS/ Python Clients</a><li class="navigation-list-item "><a href="/docs/getting-started/package-overview/" class="navigation-list-link">Package overview</a><li class="navigation-list-item "><a href="/docs/getting-started/start-tutorials" class="navigation-list-link">Getting started tutorials</a><li class="navigation-list-item "><a href="/docs/getting-started/essential-basic/" class="navigation-list-link">Essential basic functionality</a><li class="navigation-list-item "><a href="/docs/getting-started/intro-graph/" class="navigation-list-link">Intro to graph data modelling</a><li class="navigation-list-item active"><a href="/docs/getting-started/comparison" class="navigation-list-link">Comparison with other tools</a><ul class="navigation-list-grand-child-list"><li class="navigation-list-item active"> <a href="/docs/getting-started/comparison/child/" class="navigation-list-link active">From RDBMS databases to TerminusDB</a></ul><li class="navigation-list-item "><a href="/docs/getting-started/tutorials/" class="navigation-list-link">Tutorials</a></ul><li class="navigation-list-item"><a href="/docs/user-guide" class="navigation-list-link">User guide</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/user-guide/revision-control" class="navigation-list-link">Revision Control</a><li class="navigation-list-item "><a href="/docs/user-guide/query" class="navigation-list-link">Query</a><li class="navigation-list-item "><a href="/docs/user-guide/schema" class="navigation-list-link">Schema</a><li class="navigation-list-item "><a href="/docs/user-guide/console" class="navigation-list-link">TerminusDB Console</a><li class="navigation-list-item "><a href="/docs/user-guide/visualisation" class="navigation-list-link">Visualisation</a><li class="navigation-list-item "><a href="/docs/user-guide/api/" class="navigation-list-link">TerminusDB API</a><li class="navigation-list-item "><a href="/docs/user-guide/hub/" class="navigation-list-link">TerminusHub</a></ul><li class="navigation-list-item"><a href="/docs/api-reference/" class="navigation-list-link">API reference</a><li class="navigation-list-item"><a href="/docs/administration/" class="navigation-list-link">Administration</a><li class="navigation-list-item"><a href="/docs/developer-guide/" class="navigation-list-link">Developer guide</a><li class="navigation-list-item"><a href="/docs/release_notes/" class="navigation-list-link">Release notes</a><li class="navigation-list-item"><a href="/docs/research/" class="navigation-list-link">Research</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search TerminusDB Documentation" aria-label="Search TerminusDB Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/terminusdb/terminusdb-server">TerminusDB on GitHub</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/getting-started">Getting started</a><li class="breadcrumb-nav-list-item"><a href="/docs/getting-started/comparison">Comparison with other tools</a><li class="breadcrumb-nav-list-item"><span>From RDBMS databases to TerminusDB</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="from-rdbms-databases-to-terminusdb"> <a href="#from-rdbms-databases-to-terminusdb" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> From RDBMS databases to TerminusDB</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#the-dataset" id="markdown-toc-the-dataset">The Dataset</a><li><a href="#query-language" id="markdown-toc-query-language">Query language</a><li><a href="#create-schema" id="markdown-toc-create-schema">Create Schema</a><li><a href="#load-data" id="markdown-toc-load-data">Load Data</a><li><a href="#query-the-data" id="markdown-toc-query-the-data">Query the Data</a></ol><hr /><p>Most of your applications need to store data somewhere and probably relational databases like MySQL, PostgreSQL etc.. are the most commonly used for this purpose.</p><p>Passing from a relational database to TerminusDB requires some effort and a shift in your state of mind, but it can be done relatively fast. In this tutorial we’ll show you some parallels with how TerminusDB handles tasks compared to relational databases and the goals you can achieve with TerminusDB that are difficult to do with others databases.</p><p>if you have never used TerminusDB before, this article includes everything you need to get started with TerminusDB. <a href="https://terminusdb.com/blog/2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/">My First TerminusDB Graph Visualisation — Bike Share Data</a>.</p><p><em>Note: We are assuming you have knowledge of relational database concepts and you already know how to write a simple sql (Structured Query Language) statement.</em></p><hr /><h2 id="the-dataset"> <a href="#the-dataset" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The Dataset</h2><p>In our examples we use the collection of data about the bike journeys between stations in Washington D.C., USA.</p><p><img src="/docs/assets/images/bike_table.png" alt="" /></p><p>The CSV data used this tutorial is available at <a href="https://terminusdb.com/t/data/bike_tutorial.csv">https://terminusdb.com/t/data/bike_tutorial.csv</a></p><hr /><h2 id="query-language"> <a href="#query-language" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Query language</h2><p>As you already know <strong>SQL</strong> is a standard language for accessing and manipulating relational databases.</p><p>In TerminusDB we use <a href="https://terminusdb.com/docs/woql"><strong>WOQL</strong> (Web Object Query Language)</a>. It is a unified model query language, WOQL’s primary syntax and interchange format is in JSON-LD. All our example are writing using woql.js a javascript layer that help you to compose WOQL query.</p><hr /><h2 id="create-schema"> <a href="#create-schema" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Create Schema</h2><p><em>A conceptual database schema is a description of a database structure, data types, and the constraints on the database.</em></p><p>We can consider a relational database as a collection, or a set of tables. For storing our dataset we need three tables: bikes, stations and journeys. <a href="/docs/assets/bike_journey.sql">Here the complete schema</a></p><p>Each table consists of rows and columns, in very simple way the columns specify the type of data, where the rows contain the actual data itself and the tables are related to each other.</p><p>Let’s see a fragment of schema:</p><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
 <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nv">`journeys`</span> <span class="p">(</span>
  <span class="nv">`idJourney`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span><span class="p">,</span>
  <span class="nv">`bikeId`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="p">......),</span>
 <span class="k">FOREIGN</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">bikeId</span><span class="p">)</span> <span class="k">REFERENCES</span> <span class="n">bikes</span><span class="p">(</span><span class="n">idBike</span><span class="p">),</span>
</code></pre></div></div><p>Here our logical relationship from tables: <em>The <strong>bikeId</strong> column is a FOREIGN KEY to the table <strong>bikes</strong> (idBike column).</em></p><p>In terminusDB instead of tables we have documents, so for our dataset we need to create three different documents: Station, Journey and Bicycle, every document have a label and a description and is identified by an unique URL. In our documents we have properties to describe the type of data and the documents are related to each other as interlinked concepts.</p><p>An example of relationship between documents written in woql.js</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">and</span><span class="p">(</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike Station</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">A station where bicycles are deposited</span><span class="dl">"</span><span class="p">),</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">),</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">).</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle Used</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dateTime</span><span class="dl">"</span><span class="p">)</span>
   <span class="p">.....)</span>        

</code></pre></div></div><p>In the <strong>Journey</strong> document the range data type of the <strong>journey_bicycle</strong> property (ObjectProperty) is the <strong>Bicycle</strong> document.</p><hr /><h2 id="load-data"> <a href="#load-data" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Load Data</h2><p>What we wish to do now is load the data from our .csv file inside our relational database, but which road map follows to save the integrity of the data relationship, you can use an external tool or you can implement your sql statement.</p><p>You could write an sql statement like this to import the csv file inside bikes or stations</p><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">LOAD</span> <span class="k">DATA</span> <span class="k">LOCAL</span> <span class="n">INFILE</span> <span class="s1">'bike_tutorial.csv'</span> <span class="k">INTO</span> <span class="k">TABLE</span> <span class="n">bikes</span>
<span class="n">FIELDS</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">','</span> <span class="n">LINES</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span>  <span class="k">IGNORE</span> <span class="mi">1</span> <span class="n">LINES</span>
<span class="p">(</span><span class="o">@</span><span class="n">col1</span><span class="p">,</span><span class="o">@</span><span class="n">col2</span><span class="p">,</span><span class="o">@</span><span class="n">col3</span><span class="p">,</span><span class="o">@</span><span class="n">col4</span><span class="p">,</span><span class="o">@</span><span class="n">col5</span><span class="p">,</span><span class="o">@</span><span class="n">col6</span><span class="p">,</span><span class="o">@</span><span class="n">col7</span><span class="p">,</span><span class="o">@</span><span class="n">col8</span><span class="p">)</span> <span class="k">set</span> <span class="n">bikeNumber</span><span class="o">=@</span><span class="n">col8</span><span class="p">;</span>

</code></pre></div></div><p>But populating the journeys table could be more complicated because you have to get bikeId and stationId from the preview table, maybe you can use a temporary table to load all the CSV data and after, you can move the data from the temporary table to bikes, stations, journeys.</p><p>In TerminusDB we have a very cleaner solution to import csv files into the database, with a data integrity check for any newly imported records.</p><p>TerminusDB is accessible in very easy with JavaScript using the woql.js layer A fragment of an import query.</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">const</span> <span class="nx">csv</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">)</span>
  		<span class="p">......</span>     
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Member type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Member_Type</span><span class="dl">"</span><span class="p">)</span>
<span class="p">).</span><span class="nx">remote</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://terminusdb.com/t/data/bike_tutorial.csv</span><span class="dl">"</span><span class="p">)</span>

</code></pre></div></div><p>We refer the first row of our file that contain the column headers in our variables, for example the field <strong>“Bike number”</strong> refers the variable <strong>“v:Bike”</strong></p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">//Clean data for insert</span>
<span class="kd">const</span> <span class="nx">wrangles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:integer</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Journey</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">),</span>       
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Bicycle</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>    
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_ID - v:End_ID @ v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike v:Bike from v:Start_Station to v:End_Station at v:Start_Time until v:End_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
<span class="p">];</span>

</code></pre></div></div><p>We cast (WOQL.typecast(a,b,c) method) the variable <strong>“V:Bike”</strong> as string (“xsd:string”) and refer it in a new variable “V:Bike_Label”</p><p>We create an unique id (WOQL.idgen(a,b,c) to every document. Example for “doc:Bicycle” document we create an id from the “v:Bike_Label” and refer it in the “v:Bike_Url”</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">const</span> <span class="nx">inserts</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">).</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
     	<span class="p">.....</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>
   		<span class="p">.....</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>

</code></pre></div></div><p>Now we can insert the data inside our database. We create a <strong>“Bicycle”</strong> document for every <strong>“v:Bike_URL”</strong> value and we link this value inside the <strong>“journey_bicycle”</strong> property in <strong>Journey</strong> document. Our relationship link between document has been created ❗ In this article the complete example <a href="https://terminusdb.com/blog/2020/01/14/my-first-terminusdb-graph-visualisation-bike-share-data/">My First TerminusDB Graph Visualisation — Bike Share Data</a>.</p><hr /><h2 id="query-the-data"> <a href="#query-the-data" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Query the Data</h2><p>Now, how we write our query for getting all the information about the bike journeys.</p><p>Here an Sql example</p><div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">SELECT</span> <span class="n">journeys</span><span class="p">.</span><span class="n">startTime</span><span class="p">,</span> <span class="n">journeys</span><span class="p">.</span><span class="n">endTime</span><span class="p">,</span> <span class="n">bikes</span><span class="p">.</span><span class="n">bikeNumber</span><span class="p">,</span> <span class="n">journeys</span><span class="p">.</span><span class="n">memberType</span><span class="p">,</span> <span class="n">journeys</span><span class="p">.</span><span class="n">duration</span><span class="p">,</span> <span class="n">startStation</span><span class="p">.</span><span class="n">address</span> <span class="k">as</span> <span class="n">startStation</span><span class="p">,</span> <span class="n">startStation</span><span class="p">.</span><span class="n">stationNumber</span> <span class="k">as</span> <span class="n">startStationNumber</span><span class="p">,</span> <span class="n">endStation</span><span class="p">.</span><span class="n">address</span> <span class="k">as</span> <span class="n">endStation</span><span class="p">,</span> <span class="n">endStation</span><span class="p">.</span><span class="n">stationNumber</span> <span class="k">as</span> <span class="n">endStationNumber</span>
<span class="k">FROM</span> <span class="n">journeys</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">stations</span> <span class="k">as</span> <span class="n">startStation</span> <span class="k">ON</span> <span class="n">journeys</span><span class="p">.</span><span class="n">startStation</span> <span class="o">=</span> <span class="n">startStation</span><span class="p">.</span><span class="n">idStation</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">stations</span> <span class="k">as</span> <span class="n">endStation</span> <span class="k">ON</span> <span class="n">journeys</span><span class="p">.</span><span class="n">endStation</span> <span class="o">=</span> <span class="n">endStation</span><span class="p">.</span><span class="n">idStation</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">bikes</span> <span class="k">ON</span> <span class="n">journeys</span><span class="p">.</span><span class="n">bikeId</span><span class="o">=</span><span class="n">bikes</span><span class="p">.</span><span class="n">idbike</span><span class="p">;</span>

</code></pre></div></div><p>Let’s see the TerminusDB woql query</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="nx">WOQL</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_Number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Label</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">).</span><span class="nx">and</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">scm:Journey</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">),</span>

    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Label</span><span class="dl">"</span><span class="p">),</span>

    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Label</span><span class="dl">"</span><span class="p">),</span>

    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">opt</span><span class="p">().</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_Number</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">)</span>

</code></pre></div></div><p>Could you guess that the TerminusDB schema model is an ontology (OWL) ? It is extremely difficult to express queries against graph structured ontology, but with our query language we are shielded from the complexity of interfacing with the ontology keeping the power of an ontology data model. ❗ You can not query an ontology with sql.</p><p>Let’s keep to practise ❗</p><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 - TerminusDB | Distributed by an <a href="https://github.com/terminusdb/terminusdb-server/blob/master/LICENSE">GPL-3.0 license.</a></p></footer></div></div></div></div>
