<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>IDs, IRIs, URLs and Prefixes - TerminusDB Documentation</title><link rel="shortcut icon" href="/docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/docs/assets/css/just-the-docs.css"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>IDs, IRIs, URLs and Prefixes | TerminusDB Documentation</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="IDs, IRIs, URLs and Prefixes" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation for TerminusDB" /><meta property="og:description" content="Documentation for TerminusDB" /><link rel="canonical" href="/docs/user-guide/schema/ids/" /><meta property="og:url" content="/docs/user-guide/schema/ids/" /><meta property="og:site_name" content="TerminusDB Documentation" /> <script type="application/ld+json"> {"description":"Documentation for TerminusDB","@type":"WebPage","url":"/docs/user-guide/schema/ids/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/assets/images/horizontal_lockup_white.png"}},"headline":"IDs, IRIs, URLs and Prefixes","@context":"https://schema.org"}</script> <script src="https://cdn.usefathom.com/script.js" site="ETLDDMRO" defer></script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="/docs" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="/docs/test/" class="navigation-list-link">test</a><li class="navigation-list-item"><a href="/docs/" class="navigation-list-link">Home</a><li class="navigation-list-item"><a href="/docs/getting-started" class="navigation-list-link">Getting started</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/getting-started/quick-install/" class="navigation-list-link">Quick install with docker</a><li class="navigation-list-item "><a href="/docs/getting-started/other-install/" class="navigation-list-link">Other ways of installing TerminusDB</a><li class="navigation-list-item "><a href="/docs/getting-started/install-clients/" class="navigation-list-link">Installation of JS/ Python Clients</a><li class="navigation-list-item "><a href="/docs/getting-started/package-overview/" class="navigation-list-link">Package overview</a><li class="navigation-list-item "><a href="/docs/getting-started/start-tutorials" class="navigation-list-link">Getting started tutorials</a><li class="navigation-list-item "><a href="/docs/getting-started/essential-basic/" class="navigation-list-link">Essential basic functionality</a><li class="navigation-list-item "><a href="/docs/getting-started/intro-graph/" class="navigation-list-link">Intro to graph data modelling</a><li class="navigation-list-item "><a href="/docs/getting-started/comparison" class="navigation-list-link">Comparison with other tools</a><li class="navigation-list-item "><a href="/docs/getting-started/tutorials/" class="navigation-list-link">Tutorials</a></ul><li class="navigation-list-item active"><a href="/docs/user-guide" class="navigation-list-link">User guide</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/user-guide/revision-control" class="navigation-list-link">Revision Control</a><li class="navigation-list-item "><a href="/docs/user-guide/query" class="navigation-list-link">Query</a><li class="navigation-list-item active"><a href="/docs/user-guide/schema" class="navigation-list-link">Schema</a><ul class="navigation-list-grand-child-list"><li class="navigation-list-item "> <a href="/docs/user-guide/schema/classes/" class="navigation-list-link">Classes</a><li class="navigation-list-item "> <a href="/docs/user-guide/schema/properties/" class="navigation-list-link">Properties</a><li class="navigation-list-item "> <a href="/docs/user-guide/schema/datatypes/" class="navigation-list-link">Datatypes</a><li class="navigation-list-item active"> <a href="/docs/user-guide/schema/ids/" class="navigation-list-link active">IDs, IRIs, URLs and Prefixes</a><li class="navigation-list-item "> <a href="/docs/user-guide/schema/graphs/" class="navigation-list-link">Graphs</a><li class="navigation-list-item "> <a href="/docs/user-guide/schema/advanced/" class="navigation-list-link">Advanced Topics</a></ul><li class="navigation-list-item "><a href="/docs/user-guide/console" class="navigation-list-link">TerminusDB Console</a><li class="navigation-list-item "><a href="/docs/user-guide/visualisation" class="navigation-list-link">Visualisation</a><li class="navigation-list-item "><a href="/docs/user-guide/api/" class="navigation-list-link">TerminusDB API</a><li class="navigation-list-item "><a href="/docs/user-guide/hub/" class="navigation-list-link">TerminusHub</a></ul><li class="navigation-list-item"><a href="/docs/api-reference/" class="navigation-list-link">API reference</a><li class="navigation-list-item"><a href="/docs/administration/" class="navigation-list-link">Administration</a><li class="navigation-list-item"><a href="/docs/developer-guide/" class="navigation-list-link">Developer guide</a><li class="navigation-list-item"><a href="/docs/release_notes/" class="navigation-list-link">Release notes</a><li class="navigation-list-item"><a href="/docs/research/" class="navigation-list-link">Research</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search TerminusDB Documentation" aria-label="Search TerminusDB Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/terminusdb/terminusdb-server">TerminusDB on GitHub</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/user-guide">User guide</a><li class="breadcrumb-nav-list-item"><a href="/docs/user-guide/schema">Schema</a><li class="breadcrumb-nav-list-item"><span>IDs, IRIs, URLs and Prefixes</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="ids-in-terminusdb---iris-urls-and-prefixes"> <a href="#ids-in-terminusdb---iris-urls-and-prefixes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> IDs in TerminusDB - IRIs, URLs and Prefixes</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#introduction" id="markdown-toc-introduction">Introduction</a><li><a href="#predefined-namespace-prefixes" id="markdown-toc-predefined-namespace-prefixes">Predefined Namespace Prefixes</a><li><a href="#user-defined-uris" id="markdown-toc-user-defined-uris">User Defined URIs</a><li><a href="#extended-prefixes" id="markdown-toc-extended-prefixes">Extended Prefixes</a><li><a href="#id-generation" id="markdown-toc-id-generation">ID Generation</a><ol><li><a href="#idgen--unique" id="markdown-toc-idgen--unique">idgen &amp; unique</a></ol></ol><hr /><h2 id="introduction"> <a href="#introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Introduction</h2><p>Under the hood, TerminusDB uses <a href="">RDF triples</a> to store all it’s data. In RDF, all ids are defined to be IRIs - which can be thought of as URLs for all practical purposes. The benefits of using URLs as your principle IDs are many - you have a universal addressing space, which can be made automatically dereferencable and in complex data integration projects, namespaces are critical if we want to avoid undesirable naming collisions.</p><p>The disadvantages of using URLs for IDs are, firstly, URLs tend to be long and difficult to remember and secondly, that you have to put some effort into the process of figuring out how to generate good URLs to represent you data.</p><p>To address the first issue. rather than using full URLs, it’s much more convenient to express things in a compressed form, with prefixes that map to an IRI base providing namespace safety, with fragment ids which identify the particular unit. So for example, rather than writing</p><p>http://www.w3.org/1999/02/22-rdf-syntax-ns#type we can use rdf:type</p><p>Each TerminusDB database comes preconfigured with a configurable and extensible set of namespace prefixes.</p><p>To address the second issue, WOQL provides several functions which help with generating new ids.</p><h2 id="predefined-namespace-prefixes"> <a href="#predefined-namespace-prefixes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Predefined Namespace Prefixes</h2><p>The following URL prefixes are pre-configured (and fixed) for every TerminusDB Database:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"@context":{
    "owl":"http://www.w3.org/2002/07/owl#",
    "rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs":"http://www.w3.org/2000/01/rdf-schema#",
    "xsd":"http://www.w3.org/2001/XMLSchema#"
    "xdd":"http://terminusdb.com/schema/xdd#",
    "terminus":"http://terminusdb.com/schema/terminus#",
    "ref":"http://terminusdb.com/schema/ref#",
    "repo":"http://terminusdb.com/schema/repository#",
    "vio":"http://terminusdb.com/schema/vio#",
    "woql":"http://terminusdb.com/schema/woql#",
    "layer":"http://terminusdb.com/schema/layer#",
}
</code></pre></div></div><ul><li><code class="highlighter-rouge">owl</code>, <code class="highlighter-rouge">rdf</code>, <code class="highlighter-rouge">rdfs</code>, <code class="highlighter-rouge">xsd</code>, <code class="highlighter-rouge">xdd</code> are language primitives and datatypes.<li><code class="highlighter-rouge">ref</code>, <code class="highlighter-rouge">repo</code> and <code class="highlighter-rouge">layer</code> refer to entities within the terminus layered storage system.<li><code class="highlighter-rouge">woql</code> refers to the web object query language<li><code class="highlighter-rouge">terminus</code> defines high level constructs such as databases and resources specific to the terminus db administration db.</ul><h2 id="user-defined-uris"> <a href="#user-defined-uris" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> User Defined URIs</h2><p>In addition to the built in URL prefixes which are fixed, each database has it’s own namespace. This defines two important features - firstly the URLs which will be used to represent the instance data and secondly the namespace that will be used to represent classes and properties that are local to the specific database.</p><p>Each terminus DB database has two useful prefixes defined by default. <code class="highlighter-rouge">doc:</code> is the default prefix that will be used for instance data in the database. TerminusDB allows users to define this to be whatever URL they want. So, for example, we can create a document with id “doc:John” and define the databases base uri to be “http://my.endpoint.com/” so that the data is actually stored and consumed as http://my.endpoint.com/John</p><p>The prefix is specified in the create database api call and can be changed on a per-branch level, with different prefixes applying to different branch and can be specified during branch creation.</p><p><code class="highlighter-rouge">WOQLClient.createDatabase({uri_prefix: "http://my.data.com/"})</code></p><h2 id="extended-prefixes"> <a href="#extended-prefixes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Extended Prefixes</h2><p>Users can add new prefixes to a database, to conveniently support imported rdf data which may use a variety of namespaces and URLs. This can be achieved through the schema section of the console or through the following API call.</p><p><code class="highlighter-rouge">Does not exist yet</code></p><h2 id="id-generation"> <a href="#id-generation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> ID Generation</h2><p>When inserting data, it is frequently the case that we need to generate new ids to represent the new objects that we are writing to the database. In general, we can always use the <code class="highlighter-rouge">doc:</code> prefix for all data objects which provides us with local namespace safety as well as potential universal addressability. However, this still leaves the case of the appropriate local extension to use for each object within the database. How should we form our doc:something ids?</p><p>TerminusDB puts no restrictions on the IDs that are used for any object. As long as the id is unique within that database (and is a valid id without spaces or colons), it is valid. In the case of datasets where each entity has an existing unique identifier, we can choose to simply use these ids directly as is and that will work fine. However, in the more general case, where we can generate new ids for the entities in our database, the choice of which ids to use is signficant for several important reasons. Firstly, it is always quicker to lookup a value by its doc:id than it is search for it by the value of one of its properties - so when we first generate a new unique ID it pays to consider how easy it will be to regenerate that ID automatically without having to look it up. Secondly, without some principled way of naming objects, we quickly get to a situation where we have namespace clashes and confusion about types (we may, for example, have a Wine and a Person object both with the id: “doc:Rose”).</p><p>In the case of schema and inference graphs, we are normally dealing with a small enough number of entities that it is normally possible to name them individually without too much risk of namespace collisions. However, in general, in terminusDB we use the naming convention where we use capital letters (CamelCase) for class names and lowercase with underscores (snake_case) for property names. We encourage the use of this convention to guard against confusion.</p><p>When it comes to instance data, TerminusDB provides two functions in WOQL that are explicitly concerned with generating unique ids for new objects in the database. They allow users to reliably generate unique identifiers for objects from input variables with the guarantee that the functions will always produce the same output IDs when given the same input identifiers. The trick to using these functions is to find input variables that suitably make the value unique while being widely enough available to be likely useful in future situations where you want to generate the IDs again. For example, a customers name and address might be good choices.</p><p>The second assistance that TerminusDB offers is the use of a convention whereby all objects ids should include the most-specific-class id in the name, so, for example, rather than using the id: doc:Rome, we would use the id doc:City_Rome to avoid later namespace collisions, and to include more information within the id/URL itself.</p><p>The two functions that generate IDs in WOQL are idgen and unique.</p><h3 id="idgen--unique"> <a href="#idgen--unique" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> idgen &amp; unique</h3><div class="code-example"><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:City</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="dl">"</span><span class="s2">v:Name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:State</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Country</span><span class="dl">"</span><span class="p">],</span> <span class="dl">"</span><span class="s2">v:CityID</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">unique</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Person</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="dl">"</span><span class="s2">v:FirstName</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Family_Name</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:DOB</span><span class="dl">"</span><span class="p">],</span> <span class="dl">"</span><span class="s2">v:PersonID</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div></div><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 - TerminusDB | Distributed by an <a href="https://github.com/terminusdb/terminusdb-server/blob/master/LICENSE">GPL-3.0 license.</a></p></footer></div></div></div></div>
