<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Resources - TerminusDB Documentation</title><link rel="shortcut icon" href="/docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/docs/assets/css/just-the-docs.css"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Resources | TerminusDB Documentation</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="Resources" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation for TerminusDB" /><meta property="og:description" content="Documentation for TerminusDB" /><link rel="canonical" href="/docs/user-guide/query/resources/" /><meta property="og:url" content="/docs/user-guide/query/resources/" /><meta property="og:site_name" content="TerminusDB Documentation" /> <script type="application/ld+json"> {"description":"Documentation for TerminusDB","@type":"WebPage","url":"/docs/user-guide/query/resources/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/docs/assets/images/horizontal_lockup_white.png"}},"headline":"Resources","@context":"https://schema.org"}</script> <script src="https://cdn.usefathom.com/script.js" site="ETLDDMRO" defer></script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="/docs" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="/docs/" class="navigation-list-link">Home</a><li class="navigation-list-item"><a href="/docs/getting-started" class="navigation-list-link">Getting started</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/getting-started/quick-install/" class="navigation-list-link">Quick install with docker</a><li class="navigation-list-item "><a href="/docs/getting-started/other-install/" class="navigation-list-link">Other ways of installing TerminusDB</a><li class="navigation-list-item "><a href="/docs/getting-started/install-clients/" class="navigation-list-link">Installation of JS/ Python Clients</a><li class="navigation-list-item "><a href="/docs/getting-started/package-overview/" class="navigation-list-link">Package overview</a><li class="navigation-list-item "><a href="/docs/getting-started/start-tutorials" class="navigation-list-link">Getting started tutorials</a><li class="navigation-list-item "><a href="/docs/getting-started/essential-basic/" class="navigation-list-link">Essential basic functionality</a><li class="navigation-list-item "><a href="/docs/getting-started/intro-graph/" class="navigation-list-link">Intro to graph data modelling</a><li class="navigation-list-item "><a href="/docs/getting-started/comparison" class="navigation-list-link">Comparison with other tools</a><li class="navigation-list-item "><a href="/docs/getting-started/tutorials/" class="navigation-list-link">Tutorials</a></ul><li class="navigation-list-item active"><a href="/docs/user-guide" class="navigation-list-link">User guide</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/user-guide/revision-control" class="navigation-list-link">Revision Control</a><li class="navigation-list-item active"><a href="/docs/user-guide/query" class="navigation-list-link">Query</a><ul class="navigation-list-grand-child-list"><li class="navigation-list-item "> <a href="/docs/user-guide/query/simple-query/" class="navigation-list-link">Simple Query</a><li class="navigation-list-item "> <a href="/docs/user-guide/query/inserting-data/" class="navigation-list-link">Inserting Data</a><li class="navigation-list-item "> <a href="/docs/user-guide/query/schema-query/" class="navigation-list-link">Schema Query</a><li class="navigation-list-item active"> <a href="/docs/user-guide/query/resources/" class="navigation-list-link active">Resources</a><li class="navigation-list-item "> <a href="/docs/user-guide/query/json-ld/" class="navigation-list-link">JSON-LD Query</a><li class="navigation-list-item "> <a href="/docs/user-guide/query/woql-lib/" class="navigation-list-link">WOQL Standard Library</a></ul><li class="navigation-list-item "><a href="/docs/user-guide/schema" class="navigation-list-link">Schema</a><li class="navigation-list-item "><a href="/docs/user-guide/console" class="navigation-list-link">TerminusDB Console</a><li class="navigation-list-item "><a href="/docs/user-guide/visualisation" class="navigation-list-link">Visualisation</a><li class="navigation-list-item "><a href="/docs/user-guide/api/" class="navigation-list-link">TerminusDB API</a><li class="navigation-list-item "><a href="/docs/user-guide/hub/" class="navigation-list-link">TerminusHub</a></ul><li class="navigation-list-item"><a href="/docs/api-reference/" class="navigation-list-link">API reference</a><li class="navigation-list-item"><a href="/docs/administration/" class="navigation-list-link">Administration</a><li class="navigation-list-item"><a href="/docs/developer-guide/" class="navigation-list-link">Developer guide</a><li class="navigation-list-item"><a href="/docs/release_notes/" class="navigation-list-link">Release notes</a><li class="navigation-list-item"><a href="/docs/research/" class="navigation-list-link">Research</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search TerminusDB Documentation" aria-label="Search TerminusDB Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/terminusdb/terminusdb-server">TerminusDB on GitHub</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/user-guide">User guide</a><li class="breadcrumb-nav-list-item"><a href="/docs/user-guide/query">Query</a><li class="breadcrumb-nav-list-item"><span>Resources</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="resources"> <a href="#resources" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Resources</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#introduction" id="markdown-toc-introduction">Introduction</a><li><a href="#collections" id="markdown-toc-collections">Collections</a><ol><li><a href="#references" id="markdown-toc-references">References</a><ol><li><a href="#branches" id="markdown-toc-branches">Branches</a><li><a href="#commits" id="markdown-toc-commits">Commits</a></ol><li><a href="#commit-graphs" id="markdown-toc-commit-graphs">Commit Graphs</a><li><a href="#database-metadata" id="markdown-toc-database-metadata">Database Metadata</a><li><a href="#resource-string-autocompletion" id="markdown-toc-resource-string-autocompletion">Resource string autocompletion</a><li><a href="#relative-resource-strings" id="markdown-toc-relative-resource-strings">Relative resource strings</a><ol><li><a href="#the-resource-hierarchy" id="markdown-toc-the-resource-hierarchy">The resource hierarchy</a><li><a href="#building-off-the-parent-resource" id="markdown-toc-building-off-the-parent-resource">Building off the parent resource</a><li><a href="#special-considerations-for-branches-and-commits" id="markdown-toc-special-considerations-for-branches-and-commits">Special considerations for branches and commits</a></ol></ol><li><a href="#graphs" id="markdown-toc-graphs">Graphs</a><ol><li><a href="#graph-filters" id="markdown-toc-graph-filters">Graph Filters</a><li><a href="#graph-objects" id="markdown-toc-graph-objects">Graph Objects</a></ol></ol><h2 id="introduction"> <a href="#introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Introduction</h2><p>In TerminusDB there are a number of different resources which can be refered to or manipulated by queries. These include the following:</p><ul><li>Collections<li>References<li>Branches<li>Commits<li>Commit Graphs<li>Repository Metadata<li>Graphs<li>Graph Filters<li>Graph Objects</ul><p>In many different contexts we will have to describe the absolute or relative locations of these objects, and so we have resource identifiers which disambiguate which type of object we are referring to and where the system can find it.</p><h2 id="collections"> <a href="#collections" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Collections</h2><p>A collection is a queryable object. However, not all collections are created equal. Some collections are read-only, and some are writable.</p><p>For instance, you can write to a branch, but it makes no sense to write to a commit, as a commit itself refers to a particular update. You can, however, query a commit to get back the data as it was at the time of that commit.</p><p>Collections are referred to using a path string. Inside of a query, you can use this string with the <code class="highlighter-rouge">using</code> keyword to query something different from your context. Outside of queries, you use these strings to set up your querying context, or refer to collections in any other operation that needs them.</p><p>Collection resource strings come in two forms:</p><ul><li>absolute resource strings give an absolute path to the resource.<li>relative paths give a path relative to your current context. This generally only makes sense while querying with the <code class="highlighter-rouge">using</code> keyword.</ul><p>Let’s now go over all the collection types, and the resource string you’d use to refer to them.</p><h3 id="references"> <a href="#references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> References</h3><p>References are currently either branches or commits. For some operations it is necessary to have a genuine branch (for instance, you can not update a commit), but for other operations either a branch or commit object will do.</p><h4 id="branches"> <a href="#branches" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Branches</h4><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/&lt;repository&gt;/branch/&lt;branch_name&gt;
</code></pre></div></div><p>The following is the full name of a branch, including the account, database and repository in which it resides.</p><h4 id="commits"> <a href="#commits" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Commits</h4><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/&lt;repository&gt;/commit/&lt;branch_name&gt;
</code></pre></div></div><p>This is the full reference to a commit. Using this reference will allow you to do things such as search at this commit, or rebase from this commit onto your current branch.</p><h3 id="commit-graphs"> <a href="#commit-graphs" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Commit Graphs</h3><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/&lt;repository&gt;/_commits
</code></pre></div></div><p>The commit graph stores information about all commits that have been made in a given branch. You can query this to find information about historical updates, the author and time of these updates as well as which branches exist.</p><h3 id="database-metadata"> <a href="#database-metadata" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Database Metadata</h3><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/_meta
</code></pre></div></div><p>The database metadata graph holds metadata about the entire database. This includes the default prefixes of this database, as well as all the local and remote repositories linked to this database.</p><h3 id="resource-string-autocompletion"> <a href="#resource-string-autocompletion" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Resource string autocompletion</h3><p>Generally, incomplete resource strings will be autocompleted. The system generally assumes that you intend to access the master branch of the local repository of your database, so if you just specify an absolute resource string like</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;acount&gt;/&lt;dbid&gt;
</code></pre></div></div><p>The system will actually assume you meant</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/local/branch/master
</code></pre></div></div><p>Likewise, if you specify</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/origin
</code></pre></div></div><p>The system will assume you meant</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/origin/branch/master
</code></pre></div></div><h3 id="relative-resource-strings"> <a href="#relative-resource-strings" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Relative resource strings</h3><p>While querying, it is possible to query other collections than the one in the current context with the <code class="highlighter-rouge">using</code> keyword. The <code class="highlighter-rouge">using</code> keyword takes a relative resource string. Failing to parse that as a valid relative string, it’ll try to parse it as an absolute resource string.</p><h4 id="the-resource-hierarchy"> <a href="#the-resource-hierarchy" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> The resource hierarchy</h4><p>To understand relative resource strings, it is helpful to consider the paths as a hierarchy. In order, this hierarchy consists of</p><ul><li>the root<li>A user namespace<li>a database<li>a repository<li>a reference (branch or commit)</ul><p>For those resources lower in the hierarchy, it is possible for us to easily refer to any of the elements higher up in the hierarchy and build a path off that. Just like with absolute resource strings, they will get auto-completed. Suppose for example that you are currently working in <code class="highlighter-rouge">joe/data/local/branch/work</code> and you wish to query <code class="highlighter-rouge">joe/data/origin/branch/master</code>, you can do so using the path</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_database/origin
</code></pre></div></div><p>Which gets resolved to</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joe/data/origin
</code></pre></div></div><p>and then autocompleted to</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>joe/data/origin/branch/master
</code></pre></div></div><p>The full list of such keywords are</p><ul><li><code class="highlighter-rouge">_root</code><li><code class="highlighter-rouge">_user</code><li><code class="highlighter-rouge">_database</code><li><code class="highlighter-rouge">_repository</code></ul><h4 id="building-off-the-parent-resource"> <a href="#building-off-the-parent-resource" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Building off the parent resource</h4><p>In adition to the keywords described above, there’s also a special kind of path component, <code class="highlighter-rouge">..</code>. Just as in file paths, this path component gets you in the scope of a parent resource. For example, if your current context is <code class="highlighter-rouge">joe/data/origin/branch/master</code> and you specify the relative resource <code class="highlighter-rouge">../work</code>, you’ll get <code class="highlighter-rouge">joe/dasta/origin/branch/work</code>.</p><p>Again, auto-completion applies. So if you are on <code class="highlighter-rouge">joe/data/origin/branch/work</code> and you lookup <code class="highlighter-rouge">../</code>, it will autocomplete to <code class="highlighter-rouge">joe/data/origin/branch/master</code>.</p><h4 id="special-considerations-for-branches-and-commits"> <a href="#special-considerations-for-branches-and-commits" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Special considerations for branches and commits</h4><p>since branches and commits don’t have any children of their own, as an extra convenience, relative lookups aren’t relative to the branch/commit, but relative to their repository. So for example, if you are currently on <code class="highlighter-rouge">joe/data/origin/branch/master</code>, you can specify <code class="highlighter-rouge">branch/work</code> or <code class="highlighter-rouge">commit/commit_abcde</code> or <code class="highlighter-rouge">_commits</code>, and they’ll be resolved in the context of the repository.</p><p>The one exception, as mentioned above, is <code class="highlighter-rouge">..</code>, which will be relative to the branch or commit, not relative to the repository.</p><h2 id="graphs"> <a href="#graphs" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Graphs</h2><p>In the creation and deletion of graphs, as well as in querying (and especially inserting/deleting) it is necessary to refer to the precise graph which the user wants to update. We do this by specifying either graph filters or graph objects.</p><h3 id="graph-filters"> <a href="#graph-filters" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Graph Filters</h3><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;type&gt;/&lt;name&gt;
&lt;type&gt;/{&lt;name1&gt;,&lt;name2&gt;,...}
&lt;type&gt;/*
{&lt;type1&gt;,&lt;type2&gt;,...}/*
{&lt;type1&gt;,&lt;type2&gt;,...}
*/*
</code></pre></div></div><p>A graph filter is a relative reference which allows the user to specify a collection of graphs from a given collection resource (generally the current query collection). The <code class="highlighter-rouge">&lt;type&gt;</code> must be drawn from the set <code class="highlighter-rouge">{instance,schema,inference}</code> which specifies precisely which variety of graph we are referring to.</p><p>We can either refer directly to the name of a graph, or some list of names or even just use the <code class="highlighter-rouge">*</code> as a wildcard.</p><p>The default filter that is used when no filter is specified will be <code class="highlighter-rouge">instance/*</code>.</p><h3 id="graph-objects"> <a href="#graph-objects" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Graph Objects</h3><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;account&gt;/&lt;dbid&gt;/&lt;repository&gt;/branch/&lt;branch_name&gt;/&lt;type&gt;/&lt;graph_name&gt;
&lt;account&gt;/&lt;dbid&gt;/&lt;repository&gt;/commit/&lt;commit_id&gt;/&lt;type&gt;/&lt;graph_name&gt;
</code></pre></div></div><p>A fully qualified graph object is referred to with its source branch name or commit id together with its type and name.</p><hr /><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 - TerminusDB | Distributed by an <a href="https://github.com/terminusdb/terminusdb-server/blob/master/LICENSE">GPL-3.0 license.</a></p></footer></div></div></div></div>
